
Network Speed Test Suite (NSTS) Protocol
========================================

1. Description
=================================
It is an a plain-text protocol that is used
by NSTS to manage execution of tests and
 collection of results between the peers.
 
 
2. Format
=================================

All informations are exchanged in the form
of messages. Each message is separated
by the next message by using the LF (LineFeed)
character.

Each message has the following format
<TYPE> <PARAMS>

TYPE: Is a sequence of \[A-Z0-9\] characters
      that define the type of message.
PARAMS: Is a base64 encoded of the payload
      that is generated by python pickle text
      format.


2.1 "HELLO"
---------------------------------
PARAMS = {
	"version"		// (tuple) sender's version
	"remote_addr"	// (string) receiver's public address 
   }
A reply that last message was received
and executed successfully.
   
2.2 "OK"
---------------------------------
PARAMS = {
   }
A reply that last message was received
and executed successfully.

2.3 "CHECKPROFILE"
--------------------------------- 
PARAMS = {
   "profile_id" 	// (string) unique identifier of the profile
   }
Asks the other peer to check for a test. Checking
involves if it has the test or it can be run
on the specific target.

A "PROFILEINFO" response is expected.

2.4 "PROFILEINFO"
---------------------------------
PARAMS = {
   "profile_id" 	// (string) unique identifier of the profile
   "installed" 		// (bool) Flag if the test is known
   "supported"		// (bool) Flag if the test can be run
   "error"			// (string) Any error message why is not supported 
}
A message containing information about the status
of test. 

2.5 "INSTANTIATEPROFILE"
---------------------------------
PARAMS = {
	"profile_id"	// (string) unique identifier of the profile
	"direction"		// (enum) = { "receive", "send" }
	"options"		// (object) profile parameters
	"execution_id"	// (string) unique id of execution context
}
Requests the other end to prepare a test for
execution. An OK reply is expected.


2.6 "EXECUTIONFINISHED"
---------------------------------
PARAMS = {
	"execution_id"	// (string) unique id of execution context
}
Announce that profile execution has finished.

2.7 "__XXXXX_YYYYY"
---------------------------------
If a test needs to intercommunicate it can send custom
message. The type of the message must be in the form
of 

__XXXX_YYYYY where 
XXXX is the unique name of the test
YYYY is a test defined identifier for the message type
